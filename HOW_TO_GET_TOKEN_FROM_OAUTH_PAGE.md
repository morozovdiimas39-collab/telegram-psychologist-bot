# Как получить токен на странице oauth.yandex.ru

## ⚠️ Важно понимать

На странице **oauth.yandex.ru** ты видишь список **приложений OAuth**, но токен для функций Yandex Cloud получается **по-другому**.

## Правильный способ получить токен

### Способ 1: Через Yandex Cloud Console (РЕКОМЕНДУЕТСЯ)

1. Открой [Yandex Cloud Console](https://console.cloud.yandex.ru/)
2. Перейди в **IAM** → **Сервисные аккаунты**
3. Создай сервисный аккаунт (если нет)
4. Назначь ему роли:
   - `editor` (для создания ресурсов)
   - `serverless.functions.admin` (для управления функциями)
   - `compute.admin` (для управления VM)
5. Создай **ключ** для сервисного аккаунта
6. Используй этот ключ

**НО:** Для функций нужен OAuth токен пользователя, а не ключ сервисного аккаунта!

### Способ 2: Получить OAuth токен пользователя

Для функций Yandex Cloud нужен **OAuth токен пользователя**, который получается через процесс авторизации:

1. **Создай приложение OAuth** (если нужно):
   - На странице oauth.yandex.ru нажми "+ Создать"
   - Заполни форму
   - Сохрани

2. **Получи токен через авторизацию:**
   - Используй Client ID и Client Secret приложения
   - Или используй прямую ссылку для авторизации

3. **Или проще:** Используй **IAM токен** из Yandex Cloud Console

### Способ 3: Использовать IAM токен напрямую (САМЫЙ ПРОСТОЙ)

1. Открой [Yandex Cloud Console](https://console.cloud.yandex.ru/)
2. В правом верхнем углу нажми на свой аккаунт
3. Выбери **"Получить IAM токен"** или **"Создать токен"**
4. Скопируй токен

**Этот токен можно использовать как `YANDEX_CLOUD_TOKEN`!**

## Что делать с токеном

После получения токена:

1. Открой функцию `setup-database` в Yandex Cloud Console
2. Версии → Редактировать
3. Переменные окружения → Добавить:
   - **Ключ**: `YANDEX_CLOUD_TOKEN`
   - **Значение**: твой токен
4. Сохрани версию

## Рекомендация

**Используй IAM токен из Yandex Cloud Console** (Способ 3) — это самый простой способ!
